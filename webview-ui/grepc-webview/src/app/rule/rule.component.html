<div class="rule-container">
    <header class="rule-header" (click)="toggleExpand($event)">
        <div class="rule-header-container">
            <div
                (click)="toggleExpand($event)"
                [ngClass]="this.rule.expanded ? 'open' : 'closed'" 
                class="drop-down codicon codicon-chevron-right">
            </div>
            <span
                *ngIf="!this.isEditing"
                (click)="toggleExpand($event)"
                (mouseenter)="showEditIcon = true"
                (mouseleave)="showEditIcon = false"
                class="rule-id center-vertical">
                {{rule.id}}
                <div
                    (click)="toggleEdit()"
                    [ngClass]="this.showEditIcon ? 'editing' : 'fixed'"
                    class="codicon codicon-edit clickable">
                </div>
            </span>
            <div *ngIf="this.isEditing">
                <input
                    class="rule-id-input"
                    type="text"
                    [(value)]="this.rule.id"/>
                <div
                    (click)="toggleEdit(); toggleShowEditIcon()"
                    class="codicon codicon-close clickable">
                </div>
                <div
                    (click)="updateTitle(); toggleEdit(); toggleShowEditIcon()"
                    class="codicon codicon-check clickable">
                </div>
            </div>
        </div>
        
        <div class="rule-header-controls center-vertical">
            <div class="center-vertical control-gap">
                <span *ngIf="rule.enabled" class="circle">
                    {{occurences}}
                </span>
                <app-slider-checkbox></app-slider-checkbox>
            </div>
            <span 
                class="delete-rule codicon codicon-chrome-close"
                (click)="deleteSelf()">
            </span>
        </div>
    </header>

    <content [@expand]="this.rule.expanded ? 'open' : 'closed'" class="rule-body">
        <input type="text" class="regex-input" placeholder="Regular Expression"/>
        <input type="text" name="include-files" placeholder="Include Files"/>
        <input type="text" name="exclude-files" placeholder="Exclude Files"/>

        <div class="decoration-container">
            <header class="decoration-header" (click)="toggleDecorationExpanded($event)">
                <div class="rule-header-container">
                    <div
                        (click)="toggleDecorationExpanded($event)"
                        [ngClass]="this.rule.decorationExpanded ? 'open' : 'closed'" 
                        class="drop-down codicon codicon-chevron-right">
                    </div>
    
                    <span class="rule-id" (click)="toggleDecorationExpanded($event)">
                        Decorations
                    </span>
                </div>
    
            </header>
    
            <content class="decoration-body" [@expand]="this.rule.decorationExpanded ? 'open' : 'closed'">
                <div class="block">
                    <label>
                        background color:
                    </label>   
                    <input [value]="this.rule.backgroundColor"
                    [style.background]="this.rule.backgroundColor"
                    [(colorPicker)]="this.rule.backgroundColor"/>
                </div>
                <div class="input-label">
                    <label>
                        outline:
                    </label>
                    <input type="text" name="include-files" placeholder="Outline"/>
                </div>
                <div class="input-label">
                    <label>
                        outline color:
                    </label>
                    <input type="text" name="include-files" placeholder="Outline Color"
                        [value]="this.rule.outlineColor"
                        [style.background]="this.rule.outlineColor"
                        [(colorPicker)]="this.rule.outlineColor"/>
                </div>
                <div class="input-label">
                    <label>
                        outline style:
                    </label>
                    <input type="text" name="include-files" placeholder="Outline Style"
                        [(value)]="this.rule.outlineStyle"/>
                </div>            
                <div class="input-label">
                    <label>
                        outline width:
                    </label>
                    <input type="text" name="include-files" placeholder="Outline Width"
                        [(value)]="this.rule.outlineWidth"/>
                </div>            
                <div class="input-label">
                    <label>
                        border:
                    </label>
                    <input type="text" name="include-files" placeholder="Border"
                        [(value)]="this.rule.border"/>
                </div>            
                <div class="input-label">
                    <label>
                        font:
                    </label>
                    <input type="text" name="include-files" placeholder="Font"
                        [(value)]="this.rule.font"/>
                </div>            
                <div class="input-label">
                    <label>
                        text decoration:
                    </label>
                    <input type="text" name="exclude-files" placeholder="Text Decoration"
                        [(value)]="this.rule.textDecoration"/>
                </div>            
                <div class="input-label">
                    <label>
                        cursor:
                    </label>
                    <input type="text" name="include-files" placeholder="Cursor"
                        [(value)]="this.rule.cursor"/>
                </div>
                <div class="input-label">
                    <label>
                        color:
                    </label>
                    <input type="text" name="include-files" placeholder="Color"
                        [value]="this.rule.color"
                        [style.background]="this.rule.color"
                        [(colorPicker)]="this.rule.color"/>
                </div>
                <div class="input-label">
                    <label>
                        opacity:
                    </label>
                    <input type="text" name="include-files" placeholder="Opacity"
                        [value]="this.rule.opacity"/>
                </div>
            </content>
        </div>
    </content>
</div>
