<div class="rule-container">
    <header class="rule-header" (click)="toggleExpand($event)">
        <div class="rule-header-container">
            <div
                (click)="toggleExpand($event)"
                [ngClass]="this.rule.expanded ? 'open' : 'closed'" 
                class="drop-down codicon codicon-chevron-right">
            </div>
            <span
                *ngIf="!this.isEditing"
                (click)="toggleExpand($event)"
                (mouseenter)="showEditIcon = true"
                (mouseleave)="showEditIcon = false"
                class="rule-id center-vertical">
                {{rule.id}}
                <div
                    (click)="toggleEdit()"
                    [ngClass]="this.showEditIcon ? 'editing' : 'fixed'"
                    class="codicon codicon-edit clickable">
                </div>
            </span>
            <div *ngIf="this.isEditing">
                <input
                    class="rule-id-input"
                    type="text"
                    [(value)]="this.rule.id"/>
                <div
                    (click)="toggleEdit(); toggleShowEditIcon()"
                    class="codicon codicon-close clickable">
                </div>
                <div
                    (click)="updateTitle(); toggleEdit(); toggleShowEditIcon()"
                    class="codicon codicon-check clickable">

                </div>
            </div>
            

        </div>
        
        <div class="rule-header-controls center-vertical">
            <div class="center-vertical control-gap">
                <span *ngIf="rule.enabled" class="circle">
                    {{occurences}}
                </span>
                <app-slider-checkbox></app-slider-checkbox>
            </div>

            <span 
                class="delete-rule codicon codicon-chrome-close"
                (click)="deleteSelf()">
            </span>
        </div>
    </header>

    <content [@expand]="this.rule.expanded ? 'open' : 'closed'" class="rule-body">
        <input type="text" class="regex-input" placeholder="Regular Expression"/>
        <input type="text" name="include-files" placeholder="Include Files"/>
        <input type="text" name="exclude-files" placeholder="Exclude Files"/>

        <header class="decoration-header" (click)="toggleDecorationExpanded($event)">
            <div class="rule-header-container">
                <div
                    (click)="toggleDecorationExpanded($event)"
                    [ngClass]="this.rule.decorationExpanded ? 'open' : 'closed'" 
                    class="drop-down codicon codicon-chevron-right">
                </div>

                <span class="rule-id" (click)="toggleDecorationExpanded($event)">
                    Decorations
                </span>
            </div>

        </header>

        <content [@expand]="this.rule.decorationExpanded ? 'open' : 'closed'">
            <p>To Do: Insert decorations</p>
        </content>
    </content>
</div>
